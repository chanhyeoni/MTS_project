vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
length(vars_to_test)
vars_to_test <- weather_vars[seq(24,88)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- weather_vars[seq(24,88)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
89+64
vars_to_test <- weather_vars[seq(89, 153)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- weather_vars[seq(89, 153)]
length(vars_to_test)
vars_to_test <- weather_vars[seq(24,88)]
length(vars_to_test)
length(seq(88, 152))
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
length(seq(88, 151))
vars_to_test <- weather_vars[seq(88, 151)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
length(vars_to_test)
as.numeric(length(vars_to_test))
class(length(vars_to_test))
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset
colnames(dataset)
dataset$normal
dataset
dataset[[1]]
class(dataset[[1]])
?cbind()
normal <- matrix()
normal <- cbind(normal, dataset[[1]])
new_normal <- matrix(nrows = dim(normal)[1])
new_abnormal <- matrix(nrows = dim(abnormal)[1])
new_normal <- as.matrix(data.frame(nrows = dim(normal)[1]))
new_abnormal <- as.matrix(data.frame(nrows = dim(abnormal)[1]))
new_normal <- cbind(new_normal, dataset[[1]])
dim(normal)[1]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dim(dataset[[1]])
dim(normal)
dim(vw_normal)
new_normal <- as.matrix(data.frame(nrows = dim(vw_normal)[1]))
new_abnormal <- as.matrix(data.frame(nrows = dim(vw_abnormal)[1]))
new_normal
?data.frame
new_normal <- dataset[[1]]
new_abnormal <- dataset[[2]]
new_normal
dim(new_normal)
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abrnomal, dataset[[2]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
dim(new_normal)
vars_to_test <- weather_vars[seq(88, 151)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- dataset[[1]]
new_abnormal <- dataset[[2]]
# after running another set of variables, do
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
dim(new_normal)
dim(new_abnormal)
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- dataset[[1]]
new_abnormal <- dataset[[2]]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
vars_to_test <- weather_vars[seq(88, 151)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
dim(new_normal)
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
dim(new_normal)
new_normal
colnames(new_normal)
source("MTS.R")
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
source("MTS.R")
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- dataset[[1]]
new_abnormal <- dataset[[2]]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- new_MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
length(vars_to_test)
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
source("MTS.R")
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
source("MTS.R")
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
vars_to_test <- weather_vars[seq(88, 151)]
seq(1,10)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
length(vars_to_test)
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(88, 151)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(24,87)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
length(vars_to_test)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dim(new_normal)
vars_to_test <- weather_vars[seq(24,87)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
vars_to_test <- weather_vars[seq(88, 151)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dim(vars_to_test)
length(vars_to_test)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
new_normal <- cbind(new_normal, dataset[[1]])
new_abnormal <- cbind(new_abnormal, dataset[[2]])
dim(new_normal)
normal <- new_normal
abnormal <- new_abnormal
################ MAHALANOBIS DISTANCE ################
# find the correlations
corr <- cor(normal, normal)
# estimate the mahalanobis distances
ref_group <- mahalanobis_dist(normal, corr)
outside_group <- mahalanobis_dist(abnormal, corr)
outside_group <- outside_group[-which(outside_group == max(outside_group))]
# plot the result
plot_result(ref_group, outside_group)
readline(prompt = "Hit Enter to contiue ")
################ TAGUCHI ARRAY ################
# make an orthogonal array
nVariables <- as.numeric(readline(prompt = "how many variables?: "))
ortho_arr <- make_ortho_arr(nVariables, nRuns)
nCols <- seq(1, dim(ortho_arr)[2])
var_names <- colnames(normal[, nCols])
# comput the nosie-to-signal ratio
runs <- generate_runs(ortho_arr, normal[, nCols], abnormal[, nCols])
avr_sn_ratio <- avr_SN_ratio(runs, ortho_arr, var_names)
graph_SN_ratio(avr_sn_ratio)
readline(prompt = "Hit Enter to contiue ")
# make the dimensionality reduction and generate new normal and abnormal data
ls <- show_deltas(avr_sn_ratio)
abnormal <- dim_reduction(abnormal, ls[[1]],ls[[2]])
################ MAHALANOBIS DISTANCE (the second) ################
# find the correlations
corr <- cor(normal, normal)
# estimate the mahalanobis distances
ref_group <- mahalanobis_dist(normal, corr)
outside_group <- mahalanobis_dist(abnormal, corr)
outside_group <- outside_group[-which(outside_group == max(outside_group))]
# plot the result
plot_result(ref_group, outside_group)
corr <- cor(normal, normal)
# estimate the mahalanobis distances
ref_group <- mahalanobis_dist(normal, corr)
outside_group <- mahalanobis_dist(abnormal, corr)
outside_group <- outside_group[-which(outside_group == max(outside_group))]
# plot the result
plot_result(ref_group, outside_group)
readline(prompt = "Hit Enter to contiue ")
nVariables <- as.numeric(readline(prompt = "how many variables?: "))
nRuns <- as.numeric(readline(prompt = "how many runs?: "))
ortho_arr <- make_ortho_arr(nVariables, nRuns)
nCols <- seq(1, dim(ortho_arr)[2])
var_names <- colnames(normal[, nCols])
# comput the nosie-to-signal ratio
runs <- generate_runs(ortho_arr, normal[, nCols], abnormal[, nCols])
avr_sn_ratio <- avr_SN_ratio(runs, ortho_arr, var_names)
graph_SN_ratio(avr_sn_ratio)
ls <- show_deltas(avr_sn_ratio)
normal <- dim_reduction(normal, ls[[1]],ls[[2]])
abnormal <- dim_reduction(abnormal, ls[[1]],ls[[2]])
corr <- cor(normal, normal)
# estimate the mahalanobis distances
ref_group <- mahalanobis_dist(normal, corr)
outside_group <- mahalanobis_dist(abnormal, corr)
outside_group <- outside_group[-which(outside_group == max(outside_group))]
# plot the result
plot_result(ref_group, outside_group)
?read.csv
source("MTS.R")
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
length(numeric_vars)
length(geodem_vars)
length(weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(24,87)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(88, 151)]
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
length(vars_to_test)
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vw_normal <- read.csv("LM_Healthy_Labels_1.csv")
vw_normal <- vw_normal[, !(colnames(vw_normal) %in% c("X", "id"))]
vw_abnormal <- read.csv("LM_Sickbigger1_Labels_1.csv")
vw_abnormal <- vw_abnormal[, !(colnames(vw_abnormal) %in% c("X", "id"))]
columns <- colnames(vw_normal)
columns_except_target <- columns[!(columns %in% c("target"))]
# normalize the dataset
vw_normal[, columns_except_target] <- normalize(vw_normal[, columns_except_target] , vw_normal[, columns_except_target] )
vw_abnormal[, columns_except_target] <- normalize(vw_normal[, columns_except_target], vw_abnormal[, columns_except_target])
vw_normal
vw_normal[, numeric_vars]
source("MTS.R")
vars <- columns_except_target[grep("var", columns_except_target)]
numeric_vars <- vars[-which(vars == "var7" | vars == "var8")]
geodem_vars <- columns_except_target[grep("geo", columns_except_target)]
weather_vars <- columns_except_target[grep("weather", columns_except_target)]
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,23)])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
vars_to_test <- weather_vars[seq(88, 151)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(24,87)]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(152,length(weather_vars))]
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- append(append(numeric_vars,geodem_vars), weather_vars[seq(1,22)])
length(vars_to_test)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(23,85)]
length(vars_to_test)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(86, 151)]
length(vars_to_test)
vars_to_test <- weather_vars[seq(86, 145)]
length(vars_to_test)
vars_to_test <- weather_vars[seq(86, 149)]
length(vars_to_test)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
vars_to_test <- weather_vars[seq(150,length(weather_vars))]
length(vars_to_test)
dataset <- MTS(vw_normal[, vars_to_test], vw_abnormal[, vars_to_test])
shiny::runApp()
